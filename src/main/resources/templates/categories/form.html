<!DOCTYPE html>
<html lang="ja"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}"
>
<head>
    <meta charset="UTF-8">
    <title th:text="${mode == 'CREATE'} ? 'タスク作成' : 'タスク編集'"></title>
</head>
<body>
<section layout:fragment="content">
  <div>
    <form th:action="${mode == 'CREATE'} ? @{/categories} : @{/categories/{id}(id=${id})}"
          th:method="${mode == 'CREATE'} ? post : put"
          th:object="${categoryForm}">
        <div class="form-group mt-3">
          <label for="nameInput" class="form-label">名前</label>
          <input type="text" id="nameInput" th:field="*{name}" class="form-control" th:errorclass="is-invalid">
          <span th:errors="*{name}" class="invalid-feedback"></span>
        </div>
      <div class="form-group mt-3">
        <label for="descriptionInput" class="form-label">詳細</label>
        <textarea id="descriptionInput" th:field="*{description}" class="form-control" th:errorclass="is-invalid" rows="10"></textarea>
        <span th:errors="*{description}" class="invalid-feedback"></span>
      </div>
      <div class="mt-3">
        <button type="submit" class="btn btn-primary" th:text="${mode == 'CREATE'} ? '作成' : '編集'"></button>
        <a th:href="${mode == 'CREATE'} ? @{categories} : @{/categories/{id}(id=${id})}" class="btn btn-secondary">戻る</a>
      </div>
    </form>
  </div>
</section>
</body>
</html>