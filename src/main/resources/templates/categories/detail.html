<!DOCTYPE html>
<html lang="ja"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}"
>
<head>
    <meta charset="UTF-8">
    <title>タスク詳細</title>
</head>
<body>
<section layout:fragment="content">
  <div>
    <a th:href="@{/categories/{id}/editForm(id=${id})}" class="btn btn-primary">編集</a>
    <form
      th:action="@{/categories/{id}(id=${id})}"
      th:method="delete"
      style="..."
      onclick="return confirm('タスクを削除しますか？');"
      >
      <button type="submit" class="btn btn-danger">削除</button>
    </form>
  </div>
  <div th:object="${categoryEntity}" class="mt-3">
    <h2 th:text="*{name}"></h2>
    <p th:text="*{descriprion}"></p>

    <h3>このカテゴリーに紐づけられてるタスク</h3>

    <table class="table">
      <thead>
      <tr>
        <th>サマリー</th>
        <th>説明</th>
        <th>ステータス</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="task : *{tasks}">
        <td th:text="${task.summary}"></td>
        <td th:text="${task.description}"></td>
        <td th:text="${task.status}"></td>
      </tr>
      </tbody>
    </table>
  </div>
</section>
</body>
</html>